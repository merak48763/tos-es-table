<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />

        <link rel="stylesheet" href="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.css" />
        <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined" />
        <link rel="stylesheet" href="./css/ui.css" />

        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
        <script src="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.js"></script>
        <script src="./js/filter.js"></script>

        <title>神魔之塔 敵人技能表</title>
    </head>
    <body>
        <header>
            <label class="mdc-text-field mdc-text-field--filled" id="filter_input">
                <span class="mdc-text-field__ripple"></span>
                <span class="mdc-floating-label">依編號搜尋</span>
                <input class="mdc-text-field__input" type="text" autocomplete="off" pattern="^(?:\d+-\d+|\d+)(?:\s\d+-\d+|\s\d+)*$" />
                <span class="mdc-line-ripple"></span>
            </label>
            <div class="mdc-select mdc-select--filled" id="filter_preset">
                <div class="mdc-select__anchor" role="button">
                    <span class="mdc-select__ripple"></span>
                    <span class="mdc-floating-label">預設篩選器</span>
                    <span class="mdc-select__selected-text-container">
                        <span class="mdc-select__selected-text" id="preset_value"></span>
                    </span>
                    <span class="mdc-select__dropdown-icon">
                        <svg class="mdc-select__dropdown-icon-graphic" viewBox="7 10 10 5" focusable="false">
                            <polygon class="mdc-select__dropdown-icon-inactive" stroke="none" fill-rule="evenodd" points="7 10 12 15 17 10"></polygon>
                            <polygon class="mdc-select__dropdown-icon-active" stroke="none" fill-rule="evenodd" points="7 15 12 10 17 15"></polygon>
                        </svg>
                    </span>
                    <span class="mdc-line-ripple"></span>
                </div>
                <div class="mdc-select__menu mdc-menu mdc-menu-surface mdc-menu-surface--fullwidth">
                    <ul class="mdc-list" role="listbox">
                        <li class="mdc-list-item mdc-list-item--selected" data-value="" role="option">
                            <span class="mdc-list-item__ripple"></span>
                        </li>
                        <li class="mdc-list-item" data-value="1-500" role="option">
                            <span class="mdc-list-item__ripple"></span>
                            <span class="mdc-list-item__text">ES1 ~ ES500</span>
                        </li>
                        <li class="mdc-list-item" data-value="501-1000" role="option">
                            <span class="mdc-list-item__ripple"></span>
                            <span class="mdc-list-item__text">ES501 ~ ES1000</span>
                        </li>
                    </ul>
                </div>
            </div>
            <button class="mdc-button mdc-button--unelevated" onclick="searchES()">
                <span class="mdc-button__ripple"></span>
                <span class="mdc-button__label">搜尋</span>
            </button>
            <div class="hfill"></div>
            <div class="mdc-tooltip-wrapper--rich">
                <button class="mdc-icon-button material-icons-outlined" data-tooltip-id="info_tooltip" id="info_icon">
                    <span class="mdc-icon-button__ripple"></span>
                    info
                </button>
                <div class="mdc-tooltip mdc-tooltip--rich" data-mdc-tooltip-persistent="true" role="dialog" id="info_tooltip"><div class="mdc-tooltip__surface mdc-tooltip__surface-animation">
                    <h2 class="mdc-tooltip__title">神魔之塔 敵人技能表</h2>
                    <p class="mdc-tooltip__content">
                        作者：璇（<a class="mdc-tooltip__content-link" href="https://home.gamer.com.tw/merakx" target="_blank">merakx</a>）<br />
                        資料來源：拆包啦哪次不拆了<br />
                        網頁使用模組：JQuery、Material Design UI
                    </p>
                </div></div>
            </div>
        </header>
        <main>
            <div class="mdc-data-table mdc-data-table--sticky-header" id="es_table"><div class=mdc-data-table__table-container>
                <table class="mdc-data-table__table" id="es_table_content">
                    <thead>
                        <tr class="mdc-data-table__header-row">
                            <th class="mdc-data-table__header-cell col1" role="columnheader" scope="col">
                                編號
                            </th>
                            <th class="mdc-data-table__header-cell col2" role="columnheader" scope="col">
                                官方敘述
                            </th>
                            <th class="mdc-data-table__header-cell col3" role="columnheader" scope="col">
                                資訊圖敘述
                            </th>
                        </tr>
                    </thead>
                    <tbody class="mdc-data-table__content">
                        <tr class="mdc-data-table__row">
                            <td class="mdc-data-table__cell">
                                0
                            </td>
                            <td class="mdc-data-table__cell">
                                <details>
                                    <summary>沒有技能</summary>
                                    沒有技能
                                </details>
                            </td>
                            <td class="mdc-data-table__cell"></td>
                        </tr>
                    </tbody>
                </table>
            </div></div>
        </main>
        <script>
            let filter_input = mdc.textField.MDCTextField.attachTo(document.getElementById('filter_input'));
            let filter_preset = mdc.select.MDCSelect.attachTo(document.getElementById('filter_preset'));
            mdc.dataTable.MDCDataTable.attachTo(document.getElementById('es_table'));
            let es_table = document.getElementById('es_table_content');
            mdc.iconButton.MDCIconButtonToggle.attachTo(document.getElementById('info_icon'));
            mdc.tooltip.MDCTooltip.attachTo(document.getElementById('info_tooltip'));

            filter_preset.listen('MDCSelect:change', e => {
                if(e.detail.index > 0) {
                    filter_input.value = e.detail.value;
                }
            });
            filter_input.input.addEventListener('input', e => {
                filter_preset.selectedIndex = 0;
            });
        </script>
    </body>
</html>