<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />

        <link rel="stylesheet" href="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.css" />
        <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined" />
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Rubik" />
        <link rel="stylesheet" href="./css/ui.css" />
        <link rel="stylesheet" href="/tool_data/stylesheet/fixed_board.css" />

        <!-- Global site tag (gtag.js) - Google Analytics -->
        <script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-226961065-1"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());

            gtag('config', 'UA-226961065-1');
        </script>

        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
        <script src="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.js"></script>
        <script src="/tool_data/js/fixed_board.js"></script>
        <script src="/tool_data/js/sum_of_products.js"></script>
        <script src="./js/annotation_replacers.js"></script>
        <script src="./js/filter.js"></script>

        <title>神魔之塔 敵人技能表</title>
        <link rel="icon" type="image/png" href="/tool_data/image/skill_icon/852.png" />
    </head>
    <body>
        <header>
            <label class="mdc-text-field mdc-text-field--filled" id="filter_input">
                <span class="mdc-text-field__ripple"></span>
                <span class="mdc-floating-label">搜尋</span>
                <input class="mdc-text-field__input" type="text" autocomplete="off" onkeyup="if(event.keyCode === 13) document.querySelector('#button_search').click()" />
                <span class="mdc-line-ripple"></span>
            </label>
            <div class="mdc-select mdc-select--filled" id="filter_preset">
                <div class="mdc-select__anchor" role="button">
                    <span class="mdc-select__ripple"></span>
                    <span class="mdc-floating-label">以編號搜尋</span>
                    <span class="mdc-select__selected-text-container">
                        <span class="mdc-select__selected-text" id="preset_value"></span>
                    </span>
                    <span class="mdc-select__dropdown-icon">
                        <svg class="mdc-select__dropdown-icon-graphic" viewBox="7 10 10 5" focusable="false">
                            <polygon class="mdc-select__dropdown-icon-inactive" stroke="none" fill-rule="evenodd" points="7 10 12 15 17 10"></polygon>
                            <polygon class="mdc-select__dropdown-icon-active" stroke="none" fill-rule="evenodd" points="7 15 12 10 17 15"></polygon>
                        </svg>
                    </span>
                    <span class="mdc-line-ripple"></span>
                </div>
                <div class="mdc-select__menu mdc-menu mdc-menu-surface mdc-menu-surface--fullwidth">
                    <ul class="mdc-list" role="listbox">
                        <li class="mdc-list-item mdc-list-item--selected" data-value="" role="option">
                            <span class="mdc-list-item__ripple"></span>
                        </li>
                        <li class="mdc-list-item" data-value="0-299" role="option">
                            <span class="mdc-list-item__ripple"></span>
                            <span class="mdc-list-item__text">ES0 ~ ES299</span>
                        </li>
                        <li class="mdc-list-item" data-value="300-599" role="option">
                            <span class="mdc-list-item__ripple"></span>
                            <span class="mdc-list-item__text">ES300 ~ ES599</span>
                        </li>
                        <li class="mdc-list-item" data-value="600-899" role="option">
                            <span class="mdc-list-item__ripple"></span>
                            <span class="mdc-list-item__text">ES600 ~ ES899</span>
                        </li>
                        <li class="mdc-list-item" data-value="900-1199" role="option">
                            <span class="mdc-list-item__ripple"></span>
                            <span class="mdc-list-item__text">ES900 ~ ES1199</span>
                        </li>
                        <li class="mdc-list-item" data-value="1200-1499" role="option">
                            <span class="mdc-list-item__ripple"></span>
                            <span class="mdc-list-item__text">ES1200 ~ ES1499</span>
                        </li>
                        <li class="mdc-list-item" data-value="1500-1799" role="option">
                            <span class="mdc-list-item__ripple"></span>
                            <span class="mdc-list-item__text">ES1500 ~ ES1799</span>
                        </li>
                        <li class="mdc-list-item" data-value="1800-2099" role="option">
                            <span class="mdc-list-item__ripple"></span>
                            <span class="mdc-list-item__text">ES1800 ~ ES2099</span>
                        </li>
                        <li class="mdc-list-item" data-value="2100-2399" role="option">
                            <span class="mdc-list-item__ripple"></span>
                            <span class="mdc-list-item__text">ES2100 ~ ES2399</span>
                        </li>
                        <li class="mdc-list-item" data-value="2400-2699" role="option">
                            <span class="mdc-list-item__ripple"></span>
                            <span class="mdc-list-item__text">ES2400 ~ ES2699</span>
                        </li>
                        <li class="mdc-list-item" data-value="2700-2999" role="option">
                            <span class="mdc-list-item__ripple"></span>
                            <span class="mdc-list-item__text">ES2700 ~ ES2999</span>
                        </li>
                        <li class="mdc-list-item" data-value="3000-3299" role="option">
                            <span class="mdc-list-item__ripple"></span>
                            <span class="mdc-list-item__text">ES3000 ~ ES3299</span>
                        </li>
                        <li class="mdc-list-item" data-value="3300-3599" role="option">
                            <span class="mdc-list-item__ripple"></span>
                            <span class="mdc-list-item__text">ES3300 ~ ES3599</span>
                        </li>
                        <li class="mdc-list-item" data-value="3600-3899" role="option">
                            <span class="mdc-list-item__ripple"></span>
                            <span class="mdc-list-item__text">ES3600 ~ ES3899</span>
                        </li>
                        <li class="mdc-list-item" data-value="3900-4199" role="option">
                            <span class="mdc-list-item__ripple"></span>
                            <span class="mdc-list-item__text">ES3900 ~ ES4199</span>
                        </li>
                        <li class="mdc-list-item" data-value="4200-4499" role="option">
                            <span class="mdc-list-item__ripple"></span>
                            <span class="mdc-list-item__text">ES4200 ~ ES4499</span>
                        </li>
                        <li class="mdc-list-item" data-value="4500-4799" role="option">
                            <span class="mdc-list-item__ripple"></span>
                            <span class="mdc-list-item__text">ES4500 ~ ES4799</span>
                        </li>
                        <li class="mdc-list-item" data-value="4800-5099" role="option">
                            <span class="mdc-list-item__ripple"></span>
                            <span class="mdc-list-item__text">ES4800 ~ ES5099</span>
                        </li>
                        <li class="mdc-list-item" data-value="5100-5399" role="option">
                            <span class="mdc-list-item__ripple"></span>
                            <span class="mdc-list-item__text">ES5100 ~ ES5399</span>
                        </li>
                        <li class="mdc-list-item" data-value="5400-5699" role="option">
                            <span class="mdc-list-item__ripple"></span>
                            <span class="mdc-list-item__text">ES5400 ~ ES5699</span>
                        </li>
                        <li class="mdc-list-item" data-value="5700-5999" role="option">
                            <span class="mdc-list-item__ripple"></span>
                            <span class="mdc-list-item__text">ES5700 ~ ES5999</span>
                        </li>
                        <li class="mdc-list-item" data-value="6000-6299" role="option">
                            <span class="mdc-list-item__ripple"></span>
                            <span class="mdc-list-item__text">ES6000 ~ ES6299</span>
                        </li>
                        <li class="mdc-list-item" data-value="6300-6599" role="option">
                            <span class="mdc-list-item__ripple"></span>
                            <span class="mdc-list-item__text">ES6300 ~ ES6599</span>
                        </li>
<!--
                        <li class="mdc-list-item" data-value="6600-6899" role="option">
                            <span class="mdc-list-item__ripple"></span>
                            <span class="mdc-list-item__text">ES6600 ~ ES6899</span>
                        </li>
-->
                    </ul>
                </div>
            </div>
            <button class="mdc-button mdc-button--unelevated" id="button_search" onclick="searchES()">
                <span class="mdc-button__ripple"></span>
                <span class="mdc-button__label">搜尋</span>
            </button>
            <div class="hfill"></div>
            <div class="mdc-tooltip-wrapper--rich">
                <button class="mdc-icon-button material-icons-outlined" data-tooltip-id="info_tooltip" id="info_icon">
                    <span class="mdc-icon-button__ripple"></span>
                    info
                </button>
                <div class="mdc-tooltip mdc-tooltip--rich" data-mdc-tooltip-persistent="true" role="dialog" id="info_tooltip" tabindex="-1"><div class="mdc-tooltip__surface mdc-tooltip__surface-animation">
                    <h2 class="mdc-tooltip__title">資料版本</h2>
                    <p class="mdc-tooltip__content">
                        遊戲版本：<span id="last_update_version"></span><br />
                        檔案編號：<span id="last_update_dv"></span><br />
                        上傳日期：<span id="last_update_time"></span>
                    </p>
                    <h2 class="mdc-tooltip__title">關於此工具</h2>
                    <p class="mdc-tooltip__content">
                        作者：璇（<a class="mdc-tooltip__content-link" href="https://home.gamer.com.tw/merakx" target="_blank">merakx</a>）<br />
                        資料拆包：晴空和聲（<a class="mdc-tooltip__content-link" href="https://home.gamer.com.tw/jtdjdu6868" target="_blank">jtdjdu6868</a>）<br />
                        使用說明：<a class="mdc-tooltip__content-link" href="https://home.gamer.com.tw/creationDetail.php?sn=5413965" target="_blank">文章連結</a><br />
                        部分舊版技能簡稱出自<a class="mdc-tooltip__content-link" href="https://tos.fandom.com/zh/wiki/%E9%97%9C%E5%8D%A1%E6%95%B5%E4%BA%BA%E6%8A%80%E8%83%BD/%E6%95%B5%E4%BA%BA%E6%8A%80%E8%83%BD%E5%88%97%E8%A1%A8?variant=zh-tw" target="_blank">中文維基</a><br />
                        網頁使用程式庫：jQuery、Material Design UI
                    </p>
                </div></div>
            </div>
        </header>
        <main>
            <div class="mdc-data-table mdc-data-table--sticky-header" id="es_table"><div class="mdc-data-table__table-container" id="table_container">
                <table class="mdc-data-table__table">
                    <thead>
                        <tr class="mdc-data-table__header-row">
                            <th class="mdc-data-table__header-cell col1" role="columnheader" scope="col">
                                編號
                            </th>
                            <th class="mdc-data-table__header-cell col2" role="columnheader" scope="col">
                                技能敘述<span style="margin: 0px 10px"></span><button onclick="document.querySelectorAll('td:nth-child(2)>details:not([open])').forEach(k => {k.open = true})">全部展開</button>
                            </th>
                            <th class="mdc-data-table__header-cell col3" role="columnheader" scope="col">
                                備註
                            </th>
                        </tr>
                    </thead>
                    <tbody class="mdc-data-table__content" id="es_table_content">
                        <tr class="mdc-data-table__row">
                            <td class="mdc-data-table__cell">
                                0
                            </td>
                            <td class="mdc-data-table__cell">
                                <details>
                                    <summary>沒有技能</summary>
                                    沒有技能
                                </details>
                            </td>
                            <td class="mdc-data-table__cell"></td>
                        </tr>
                    </tbody>
                </table>
            </div></div>
        </main>
        <script>
            const filter_input = mdc.textField.MDCTextField.attachTo(document.getElementById('filter_input'));
            const filter_preset = mdc.select.MDCSelect.attachTo(document.getElementById('filter_preset'));
            mdc.dataTable.MDCDataTable.attachTo(document.getElementById('es_table'));
            const es_table = document.getElementById('es_table_content');
            mdc.iconButton.MDCIconButtonToggle.attachTo(document.getElementById('info_icon'));
            mdc.tooltip.MDCTooltip.attachTo(document.getElementById('info_tooltip'));

            filter_preset.listen('MDCSelect:change', e => {
                if(e.detail.index > 0) {
                    filter_input.value = e.detail.value;
                }
            });
            filter_input.input.addEventListener('input', e => {
                filter_preset.selectedIndex = 0;
            });
        </script>
    </body>
</html>
